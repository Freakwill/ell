Ell: 序列空间上的运算的实现及在小波分析中的应用

**摘要** 介绍一个Python模块。实现序列空间上的运算。进一步实现小波分析中的算法。

**关键词** 序列空间，Python，Ell，小波分析



## 动机

序列是数学的研究对象。最常见的序列是数列，等价于定义在自然数（或整数）上的函数。数列和幂级数是对应的
$$
\{a_n\} \leftrightarrow \sum a_nz^n
$$
当数列有限时，对应于多项式（或Laurent多项式）。

计算机显然只能存储有有限数列。因此最终可以用Python第三方库numpy提供的array来表示。但是，这么做也有麻烦，数组没有提供指标的上下界。两个数列运算时，即使有相同的维数，但是它们的指标没有对齐，也是不能直接调用array的方法。开发ell就是为了解决这个难题。

之所以称为ell，是因为序列构成的整体常用Latex代码\ell表示。

## 实现思路

实现思路其实也很简单，就是继承numpy.ndarray, 并设置min_index, max_index属性记录数组指标的上下界。

在运算的时候，要进行指标的对齐。因此重载所有array基本的代数运算，在调用父方法之前，对齐指标，即给出包含所有上下界的最小范围，参与运算的序列也要通过填充0拉伸到到相应范围。这些处理并不简单，但也是非常关键的。



源码介绍



## 应用实例

下面讲讲Ell基本用法。Ell的API尽可能和array一致，因此非常容易上手。我们来看几个简单实例。

运行时，导入`import ell import *`

### 简单实例：

加法运算很简单。

```python
a+b
```



### 复杂实例：图像处理

图像是二维序列。为了处理彩色图像，需要增加一维存储三个chennel值。因此底层的array是三维的，但这个序列依然是二维的，而第三维不需要指标。这样的类被称为多值序列。基类为BaseMultiEll，子类有MultiEll1d, MultiEll2d, MultiEllnd, 意义与单值序列相似，其中MultiEll2d是图像序列类ImageRGB的父类.

很幸运，numpy的API使得多值序列类大多数方法可以直接继承BaseEll。



## 未来任务

稀疏序列。需要一个和数值数组对应的数组记录指标。可能还会考虑混合形式，比如二维序列，第一维稀疏，第二维不稀疏。这又将是一个大工程。